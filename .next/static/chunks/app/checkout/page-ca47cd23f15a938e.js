(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{63:(e,s,t)=>{"use strict";var r=t(7260);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},952:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]])},1847:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var r=t(2115);let a=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},n=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:s,...l,width:a,height:a,stroke:t,strokeWidth:c?24*Number(i)/Number(a):i,className:n("lucide",d),...!o&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(o)?o:[o]])}),c=(e,s)=>{let t=(0,r.forwardRef)((t,l)=>{let{className:c,...d}=t;return(0,r.createElement)(i,{ref:l,iconNode:s,className:n("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...d})});return t.displayName=a(e),t}},1871:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},2380:(e,s,t)=>{"use strict";t.d(s,{CI:()=>l,Hh:()=>a,Jv:()=>n,wz:()=>i});var r=t(8525);async function a(e,s){console.log("Starting signup for:",e);try{let{data:t,error:a}=await r.N.auth.signUp({email:e,password:s,options:{emailRedirectTo:"".concat(window.location.origin,"/login")}});if(console.log("Signup response:",{data:t,error:a}),a)return console.error("Signup error:",a),{error:a.message};return console.log("Signup successful:",t),{user:t.user,session:t.session}}catch(e){return console.error("Signup exception:",e),{error:"Unexpected error during signup"}}}async function n(e,s){let{data:t,error:a}=await r.N.auth.signInWithPassword({email:e,password:s});return a?{error:a.message}:{user:t.user,session:t.session}}async function l(){let{error:e}=await r.N.auth.signOut();return e?{error:e.message}:{success:!0}}async function i(){let{data:e,error:s}=await r.N.auth.getUser();return s?{error:s.message}:{user:e.user}}},3209:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>d,ZB:()=>c,Zp:()=>l,aR:()=>i});var r=t(5155),a=t(2115),n=t(5016);let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})});l.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},3327:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5016:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(2821),a=t(5889);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},5426:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},5916:(e,s,t)=>{"use strict";function r(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";return new Intl.NumberFormat("en-GB",{style:"currency",currency:s}).format(e)}t.d(s,{v:()=>r})},5917:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6132:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6398:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},7003:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var r=t(5155),a=t(2115),n=t(6673),l=t(3101),i=t(5016);let c=(0,l.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"underline-offset-4 hover:underline text-blue-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:l,asChild:d=!1,...o}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(c({variant:a,size:l,className:t})),ref:s,...o})});d.displayName="Button"},7075:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var r=t(5155),a=t(9943),n=t(2115),l=t(63),i=t(8525),c=t(2380),d=t(5916),o=t(3209),u=t(7003),m=t(952),h=t(6398),x=t(1847);let p=(0,x.A)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),y=(0,x.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var g=t(8519),f=t(1871),b=t(5917),j=t(5426),N=t(3327),v=t(6132);let w=(0,x.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function k(){let{items:e,clearCart:s}=(0,a.x)(),[t,x]=(0,n.useState)(null),[k,A]=(0,n.useState)(null),[S,_]=(0,n.useState)(""),[C,P]=(0,n.useState)(""),[M,I]=(0,n.useState)(!0),[R,Z]=(0,n.useState)(""),[z,B]=(0,n.useState)("full"),[T,q]=(0,n.useState)(!1),[E,O]=(0,n.useState)(""),[F,W]=(0,n.useState)(""),[D,V]=(0,n.useState)(""),J=(0,l.useRouter)(),U=e.reduce((e,s)=>e+s.price*s.quantity,0),H=U>50?0:9.99,$=.2*U,X=U+H+$,G=X/2,L="half"===z?G:X;async function Y(r){if(r.preventDefault(),t){q(!0),W(""),O("");try{let r=Q(C),a=M?r:Q(S),n="half"===z?new Date(Date.now()+6048e5).toISOString().split("T")[0]:null,{data:l,error:c}=await i.N.from("orders").insert({user_id:t.id,total_amount:X,status:"pending",payment_status:"pending",payment_method:R,payment_plan:z,amount_paid:0,remaining_amount:L,payment_due_date:n,shipping_address:r,billing_address:a,notes:"Payment plan: ".concat(z,". Payment method: ").concat(R,".")}).select().single();if(c)throw console.error("Order creation error:",c),Error("Failed to create order: ".concat(c.message));let d=e.map(e=>({order_id:l.id,part_id:parseInt(e.id),quantity:e.quantity,price:e.price})),{error:o}=await i.N.from("order_items").insert(d);if(o)throw console.error("Order items creation error:",o),Error("Failed to create order items: ".concat(o.message));let{error:u}=await i.N.from("payment_transactions").insert({order_id:l.id,transaction_type:"payment",payment_method:R,amount:L,status:"pending",notes:"Initial ".concat(z," payment. ").concat("bank_transfer"===R?"Awaiting bank transfer.":"PayPal payment pending.")});u&&console.error("Transaction creation error:",u),O("Order #".concat(l.id," placed successfully!")),s(),setTimeout(()=>J.push("/order-confirmation/".concat(l.id)),3e3)}catch(e){W(e.message||"Failed to place order. Please try again.")}finally{q(!1)}}}function Q(e){let s=e.split("\n").filter(e=>e.trim());return{address_line1:s[0]||"",address_line2:s[1]||"",city:s[s.length-2]||"",postcode:s[s.length-1]||"",country:"United Kingdom"}}(0,n.useEffect)(()=>{!async function(){let e=await (0,c.wz)();if(e.error||!e.user)return J.push("/login");x(e.user);try{let e=await fetch("/api/payment-settings");if(e.ok){let s=await e.json();A(s.settings)}}catch(e){console.error("Error loading payment settings:",e)}}()},[J]),(0,n.useEffect)(()=>{0!==e.length||E||J.push("/cart")},[e.length,E,J]),(0,n.useEffect)(()=>{M&&_(C)},[C,M]);let K=(e,s)=>{navigator.clipboard.writeText(e),V(s),setTimeout(()=>V(""),2e3)};return t?E?(0,r.jsx)("main",{className:"container mx-auto p-4",children:(0,r.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,r.jsx)(o.Zp,{children:(0,r.jsxs)(o.Wu,{className:"p-8 text-center",children:[(0,r.jsx)(m.A,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-green-600 mb-2",children:"Order Placed Successfully!"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:E}),"bank_transfer"===R&&(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-4 text-left",children:[(0,r.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"Next Steps for Bank Transfer:"}),(0,r.jsx)("p",{className:"text-sm text-blue-800",children:"Please complete your payment using the bank details provided. Your order will be processed once payment is confirmed."})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"You will be redirected to the order confirmation page shortly."})]})})})}):(0,r.jsx)("main",{className:"container mx-auto p-4",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Secure Checkout"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,r.jsxs)("form",{onSubmit:Y,children:[(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"w-5 h-5"}),"Shipping Information"]})}),(0,r.jsxs)(o.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",value:(null==t?void 0:t.email)||"",disabled:!0,className:"w-full border rounded-md p-3 bg-gray-50 text-gray-600"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Shipping Address *"}),(0,r.jsx)("textarea",{className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Street Address City Postal Code",value:C,onChange:e=>P(e.target.value),required:!0,rows:4})]})]})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{children:"Billing Information"})}),(0,r.jsxs)(o.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"same-as-shipping",checked:M,onChange:e=>I(e.target.checked),className:"rounded"}),(0,r.jsx)("label",{htmlFor:"same-as-shipping",className:"text-sm",children:"Same as shipping address"})]}),!M&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Billing Address *"}),(0,r.jsx)("textarea",{className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Street Address City Postal Code",value:S,onChange:e=>_(e.target.value),required:!0,rows:4})]})]})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(p,{className:"w-5 h-5"}),"Payment Plan"]})}),(0,r.jsx)(o.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("label",{className:"border-2 rounded-lg p-4 cursor-pointer transition-all ".concat("full"===z?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,r.jsx)("input",{type:"radio",name:"paymentPlan",value:"full",checked:"full"===z,onChange:e=>B(e.target.value),className:"sr-only"}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Full Payment"}),(0,r.jsx)(y,{className:"w-5 h-5 text-green-600"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Pay the full amount now"}),(0,r.jsx)("p",{className:"text-xl font-bold text-green-600",children:(0,d.v)(X)})]}),(0,r.jsxs)("label",{className:"border-2 rounded-lg p-4 cursor-pointer transition-all ".concat("half"===z?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,r.jsx)("input",{type:"radio",name:"paymentPlan",value:"half",checked:"half"===z,onChange:e=>B(e.target.value),className:"sr-only"}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"50% Deposit"}),(0,r.jsx)(p,{className:"w-5 h-5 text-blue-600"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Pay half now, remainder in 7 days"}),(0,r.jsx)("p",{className:"text-xl font-bold text-blue-600",children:(0,d.v)(G)}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Remaining: ",(0,d.v)(X-G)]})]})]})})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(g.A,{className:"w-5 h-5"}),"Payment Method"]})}),(0,r.jsxs)(o.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("label",{className:"border-2 rounded-lg p-4 cursor-pointer transition-all ".concat("paypal"===R?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,r.jsx)("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:"paypal"===R,onChange:e=>Z(e.target.value),className:"sr-only"}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)(g.A,{className:"w-6 h-6 text-blue-600"}),(0,r.jsx)("span",{className:"font-medium",children:"PayPal"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Quick and secure payment"})]}),(0,r.jsxs)("label",{className:"border-2 rounded-lg p-4 cursor-pointer transition-all ".concat("bank_transfer"===R?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,r.jsx)("input",{type:"radio",name:"paymentMethod",value:"bank_transfer",checked:"bank_transfer"===R,onChange:e=>Z(e.target.value),className:"sr-only"}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)(f.A,{className:"w-6 h-6 text-green-600"}),(0,r.jsx)("span",{className:"font-medium",children:"Bank Transfer"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Direct bank payment"})]})]}),"paypal"===R&&k&&(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"PayPal Payment Details"}),(0,r.jsxs)("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[(0,r.jsxs)("span",{className:"text-sm",children:["Send payment to: ",(0,r.jsx)("strong",{children:k.paypal_email})]}),(0,r.jsx)(u.$,{type:"button",size:"sm",variant:"outline",onClick:()=>K(k.paypal_email,"paypal"),children:"paypal"===D?(0,r.jsx)(b.A,{className:"w-4 h-4"}):(0,r.jsx)(j.A,{className:"w-4 h-4"})})]}),(0,r.jsx)("p",{className:"text-xs text-blue-700 mt-2",children:"Include your order number in the payment reference"})]}),"bank_transfer"===R&&k&&(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-green-900 mb-3",children:"Bank Transfer Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,r.jsx)("div",{className:"flex justify-between items-center bg-white rounded p-2",children:(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"Bank:"})," ",k.bank_name]})}),(0,r.jsx)("div",{className:"flex justify-between items-center bg-white rounded p-2",children:(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"Account Name:"})," ",k.account_holder_name]})}),(0,r.jsxs)("div",{className:"flex justify-between items-center bg-white rounded p-2",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"Account Number:"})," ",k.account_number]}),(0,r.jsx)(u.$,{type:"button",size:"sm",variant:"outline",onClick:()=>K(k.account_number,"account"),children:"account"===D?(0,r.jsx)(b.A,{className:"w-4 h-4"}):(0,r.jsx)(j.A,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center bg-white rounded p-2",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"Sort Code:"})," ",k.sort_code]}),(0,r.jsx)(u.$,{type:"button",size:"sm",variant:"outline",onClick:()=>K(k.sort_code,"sort"),children:"sort"===D?(0,r.jsx)(b.A,{className:"w-4 h-4"}):(0,r.jsx)(j.A,{className:"w-4 h-4"})})]}),k.swift_code&&(0,r.jsxs)("div",{className:"flex justify-between items-center bg-white rounded p-2 md:col-span-2",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"SWIFT Code:"})," ",k.swift_code]}),(0,r.jsx)(u.$,{type:"button",size:"sm",variant:"outline",onClick:()=>K(k.swift_code,"swift"),children:"swift"===D?(0,r.jsx)(b.A,{className:"w-4 h-4"}):(0,r.jsx)(j.A,{className:"w-4 h-4"})})]})]}),k.payment_instructions&&(0,r.jsxs)("div",{className:"mt-3 p-2 bg-green-100 rounded text-xs text-green-800",children:[(0,r.jsx)(N.A,{className:"w-4 h-4 inline mr-1"}),k.payment_instructions]})]})]})]}),F&&(0,r.jsx)(o.Zp,{children:(0,r.jsx)(o.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-600 p-3 rounded flex items-center gap-2",children:[(0,r.jsx)(v.A,{className:"w-5 h-5"}),F]})})})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(o.Zp,{className:"sticky top-4",children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{children:"Order Summary"})}),(0,r.jsx)(o.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsxs)("span",{className:"flex-1",children:[e.name," \xd7 ",e.quantity]}),(0,r.jsx)("span",{className:"ml-2",children:(0,d.v)(e.price*e.quantity)})]},e.id))}),(0,r.jsxs)("div",{className:"border-t pt-3 space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Subtotal"}),(0,r.jsx)("span",{children:(0,d.v)(U)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Shipping"}),(0,r.jsx)("span",{className:0===H?"text-green-600":"",children:0===H?"Free":(0,d.v)(H)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"VAT (20%)"}),(0,r.jsx)("span",{children:(0,d.v)($)})]}),(0,r.jsxs)("div",{className:"border-t pt-2 flex justify-between font-bold text-lg",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsx)("span",{children:(0,d.v)(X)})]}),"half"===z&&(0,r.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between font-medium text-blue-900",children:[(0,r.jsx)("span",{children:"Pay Today"}),(0,r.jsx)("span",{children:(0,d.v)(L)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-blue-700 mt-1",children:[(0,r.jsx)("span",{children:"Remaining (due in 7 days)"}),(0,r.jsx)("span",{children:(0,d.v)(X-L)})]})]})]}),(0,r.jsx)(u.$,{onClick:Y,disabled:T||!C||!R,className:"w-full",size:"lg",children:T?"Processing...":"Place Order - ".concat((0,d.v)(L))}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[(0,r.jsx)(w,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Secure checkout with 256-bit SSL encryption"})]}),U<50&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["Add ",(0,d.v)(50-U)," more for free shipping!"]})]})})]})})]})]})}):null}},7691:(e,s,t)=>{Promise.resolve().then(t.bind(t,7075))},8519:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},8525:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});let r=(0,t(5040).UU)("https://mhfdvmeaipmuowjujyrc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZmR2bWVhaXBtdW93anVqeXJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2MTYyMDIsImV4cCI6MjA3NDE5MjIwMn0.3F2BM5J0di1K5Xidcgpn8tKGZT7McJ5GvUxFbNpCHGs")},9943:(e,s,t)=>{"use strict";t.d(s,{x:()=>l});var r=t(2115);let a=e=>{let s,t=new Set,r=(e,r)=>{let a="function"==typeof e?e(s):e;if(!Object.is(a,s)){let e=s;s=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},s,a),t.forEach(t=>t(s,e))}},a=()=>s,n={setState:r,getState:a,getInitialState:()=>l,subscribe:e=>(t.add(e),()=>t.delete(e))},l=s=e(r,a,n);return n},n=e=>{let s=(e=>e?a(e):a)(e),t=e=>(function(e,s=e=>e){let t=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>s(e.getState()),[e,s]),r.useCallback(()=>s(e.getInitialState()),[e,s]));return r.useDebugValue(t),t})(s,e);return Object.assign(t,s),t},l=(e=>e?n(e):n)(e=>({items:[],addToCart:s=>e(e=>e.items.find(e=>e.id===s.id)?{items:e.items.map(e=>e.id===s.id?{...e,quantity:e.quantity+s.quantity}:e)}:{items:[...e.items,s]}),removeFromCart:s=>e(e=>({items:e.items.filter(e=>e.id!==s)})),updateQuantity:(s,t)=>e(e=>({items:e.items.map(e=>e.id===s?{...e,quantity:t}:e)})),clearCart:()=>e({items:[]})}))}},e=>{e.O(0,[494,441,255,358],()=>e(e.s=7691)),_N_E=e.O()}]);