(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{63:(e,s,r)=>{"use strict";var t=r(7260);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},1847:(e,s,r)=>{"use strict";r.d(s,{A:()=>d});var t=r(2115);let a=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},i=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)((e,s)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:s,...n,width:a,height:a,stroke:r,strokeWidth:d?24*Number(l)/Number(a):l,className:i("lucide",c),...!o&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(o)?o:[o]])}),d=(e,s)=>{let r=(0,t.forwardRef)((r,n)=>{let{className:d,...c}=r;return(0,t.createElement)(l,{ref:n,iconNode:s,className:i("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...c})});return r.displayName=a(e),r}},1873:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2529:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3209:(e,s,r)=>{"use strict";r.d(s,{Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>l});var t=r(5155),a=r(2115),i=r(5016);let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});n.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},5016:(e,s,r)=>{"use strict";r.d(s,{cn:()=>i});var t=r(2821),a=r(5889);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}},6398:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},6617:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},6651:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},6905:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>y});var t=r(5155),a=r(2115),i=r(63),n=r(3209),l=r(7003),d=r(6617),c=r(6983),o=r(6398),u=r(2529),m=r(6651),p=r(1873),h=r(1847);let x=(0,h.A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),g=(0,h.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var f=r(8525);function j(){let e=(0,i.useSearchParams)(),[s,r]=(0,a.useState)(""),[h,j]=(0,a.useState)(null),[y,b]=(0,a.useState)([]),[N,v]=(0,a.useState)(!1),[w,k]=(0,a.useState)("");(0,a.useEffect)(()=>{let s=e.get("order");s&&(r(s),setTimeout(()=>{_(s)},100))},[e]);let A=(e,s)=>{let r=[],t=new Date(s);if(r.push({status:"placed",location:"RPM Distribution Center",timestamp:t.toISOString(),description:"Order has been placed and payment confirmed"}),["processing","shipped","delivered"].includes(e)){let e=new Date(t.getTime()+144e5);r.push({status:"processing",location:"RPM Warehouse",timestamp:e.toISOString(),description:"Order is being picked and packed"})}if(["shipped","delivered"].includes(e)){let e=new Date(t.getTime()+864e5);r.push({status:"shipped",location:"RPM Distribution Center",timestamp:e.toISOString(),description:"Package has been dispatched for delivery"});let s=new Date(t.getTime()+1296e5);r.push({status:"in_transit",location:"Local Depot",timestamp:s.toISOString(),description:"Package is in transit to your location"})}if("delivered"===e){let e=new Date(t.getTime()+1728e5);r.push({status:"delivered",location:"Customer Address",timestamp:e.toISOString(),description:"Package has been delivered successfully"})}return r.reverse()},_=async e=>{let r=e||s;if(!r.trim())return void k("Please enter a tracking number");v(!0),k(""),j(null),b([]);try{let{data:e,error:s}=await f.N.from("orders").select("\n          *,\n          order_items (\n            quantity,\n            parts (\n              name,\n              image_url\n            )\n          )\n        ").eq("tracking_number",r.toUpperCase().trim()).single();if(s||!e){let{data:e,error:s}=await f.N.from("orders").select("\n            *,\n            order_items (\n              quantity,\n              parts (\n                name,\n                image_url\n              )\n            )\n          ").eq("id",r.trim()).single();if(s||!e)return void k("Order not found. Please check your tracking number and try again.");j(e),b(A(e.status,e.created_at))}else j(e),b(A(e.status,e.created_at))}catch(e){k("Failed to track order. Please try again."),console.error("Tracking error:",e)}finally{v(!1)}},C=e=>{switch(e){case"placed":return(0,t.jsx)(d.A,{className:"w-5 h-5 text-blue-600"});case"processing":return(0,t.jsx)(c.A,{className:"w-5 h-5 text-orange-600"});case"shipped":case"in_transit":return(0,t.jsx)(o.A,{className:"w-5 h-5 text-purple-600"});case"delivered":return(0,t.jsx)(u.A,{className:"w-5 h-5 text-green-600"});default:return(0,t.jsx)(d.A,{className:"w-5 h-5 text-gray-600"})}};return(0,t.jsxs)("main",{className:"container mx-auto p-4 max-w-4xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Track Your Order"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Enter your tracking number or order ID to see the latest updates"})]}),(0,t.jsxs)(n.Zp,{className:"mb-8",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"w-5 h-5"}),"Track Your Package"]})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"Enter tracking number or order ID (e.g., RPM123456789)",value:s,onChange:e=>r(e.target.value.toUpperCase()),className:"flex-1 border rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:e=>"Enter"===e.key&&_()}),(0,t.jsx)(l.$,{onClick:()=>_(),disabled:N,className:"px-8",children:N?"Tracking...":"Track Order"})]}),w&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:w})]})]}),h&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{children:"Order Summary"})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Order ID"}),(0,t.jsx)("p",{className:"font-semibold",children:h.id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Tracking Number"}),(0,t.jsx)("p",{className:"font-semibold",children:h.tracking_number||"Not assigned yet"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[C(h.status),(0,t.jsx)("span",{className:"font-semibold capitalize",children:h.status.replace("_"," ")})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Estimated Delivery"}),(0,t.jsx)("p",{className:"font-semibold",children:new Date(Date.now()+2592e5).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})})]})]})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"w-5 h-5"}),"Tracking History"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:y.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-full border-2 flex items-center justify-center ".concat((e=>{switch(e){case"placed":return"border-blue-600 bg-blue-50";case"processing":return"border-orange-600 bg-orange-50";case"shipped":case"in_transit":return"border-purple-600 bg-purple-50";case"delivered":return"border-green-600 bg-green-50";default:return"border-gray-600 bg-gray-50"}})(e.status)),children:C(e.status)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("h4",{className:"font-semibold capitalize",children:e.status.replace("_"," ")}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[new Date(e.timestamp).toLocaleDateString("en-GB")," at"," ",new Date(e.timestamp).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]}),(0,t.jsx)("p",{className:"text-gray-700 mb-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,t.jsx)(p.A,{className:"w-3 h-3"}),e.location]})]})]},s))})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{children:"Items in this Order"})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:h.order_items.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:e.parts.image_url?(0,t.jsx)("img",{src:e.parts.image_url,alt:e.parts.name,className:"w-full h-full object-cover rounded-lg"}):(0,t.jsx)(d.A,{className:"w-6 h-6 text-gray-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.parts.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity]})]})]},s))})})]}),h.shipping_address&&(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"w-5 h-5"}),"Delivery Address"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("p",{children:h.shipping_address.address_line1}),h.shipping_address.address_line2&&(0,t.jsx)("p",{children:h.shipping_address.address_line2}),(0,t.jsx)("p",{children:h.shipping_address.city}),(0,t.jsx)("p",{children:h.shipping_address.postcode}),(0,t.jsx)("p",{children:h.shipping_address.country})]})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{children:"Need Help?"})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)(x,{className:"w-5 h-5 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-blue-900",children:"Call Us"}),(0,t.jsx)("p",{className:"text-blue-700",children:"0800 123 4567"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)(g,{className:"w-5 h-5 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-green-900",children:"Email Support"}),(0,t.jsx)("p",{className:"text-green-700",children:"support@rpm-parts.com"})]})]})]})})]})]})]})}function y(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(j,{})})}},6983:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},7003:(e,s,r)=>{"use strict";r.d(s,{$:()=>c});var t=r(5155),a=r(2115),i=r(6673),n=r(3101),l=r(5016);let d=(0,n.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"underline-offset-4 hover:underline text-blue-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:r,variant:a,size:n,asChild:c=!1,...o}=e,u=c?i.DX:"button";return(0,t.jsx)(u,{className:(0,l.cn)(d({variant:a,size:n,className:r})),ref:s,...o})});c.displayName="Button"},8048:(e,s,r)=>{Promise.resolve().then(r.bind(r,6905))},8525:(e,s,r)=>{"use strict";r.d(s,{N:()=>t});let t=(0,r(5040).UU)("https://mhfdvmeaipmuowjujyrc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZmR2bWVhaXBtdW93anVqeXJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2MTYyMDIsImV4cCI6MjA3NDE5MjIwMn0.3F2BM5J0di1K5Xidcgpn8tKGZT7McJ5GvUxFbNpCHGs")}},e=>{e.O(0,[494,441,255,358],()=>e(e.s=8048)),_N_E=e.O()}]);