(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[947],{1871:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},2529:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5405:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var t=a(5155),n=a(2115),r=a(3209),l=a(7003),c=a(2319),i=a(6132),d=a(2529),o=a(8519),m=a(1871);let u=(0,a(1847).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function h(){let[e,s]=(0,n.useState)(null),[a,h]=(0,n.useState)(!1),[g,x]=(0,n.useState)(!1),[p,b]=(0,n.useState)(""),[y,f]=(0,n.useState)({paypal_email:"",bank_name:"",account_holder_name:"",account_number:"",sort_code:"",swift_code:"",bank_address:"",payment_instructions:""});async function j(){h(!0),b("");try{let e=await fetch("/api/admin/payment-settings");if(e.ok){let a=await e.json();a.settings&&(s(a.settings),f({paypal_email:a.settings.paypal_email||"",bank_name:a.settings.bank_name||"",account_holder_name:a.settings.account_holder_name||"",account_number:a.settings.account_number||"",sort_code:a.settings.sort_code||"",swift_code:a.settings.swift_code||"",bank_address:a.settings.bank_address||"",payment_instructions:a.settings.payment_instructions||""}))}else throw Error("Failed to load payment settings")}catch(e){b("Error loading payment settings: ".concat(e.message))}finally{h(!1)}}async function k(){x(!0),b("");try{let e=await fetch("/api/admin/payment-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),s=await e.json();if(e.ok)b("âœ… Payment settings have been successfully updated! All changes are now active for customer checkout."),j(),setTimeout(()=>b(""),5e3);else throw Error(s.error||"Failed to save payment settings")}catch(e){b("Error saving payment settings: ".concat(e.message)),setTimeout(()=>b(""),8e3)}finally{x(!1)}}(0,n.useEffect)(()=>{j()},[]);let N=(e,s)=>{f(a=>({...a,[e]:s}))};return(0,t.jsxs)(c.A,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Settings"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Configure PayPal and bank transfer details for customer payments"})]}),p&&(0,t.jsx)(r.Zp,{className:"mb-6 shadow-md ".concat(p.includes("Error")?"border-red-200 bg-red-50":"border-green-200 bg-green-50"),children:(0,t.jsx)(r.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[p.includes("Error")?(0,t.jsx)(i.A,{className:"h-6 w-6 text-red-600"}):(0,t.jsx)(d.A,{className:"h-6 w-6 text-green-600"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium ".concat(p.includes("Error")?"text-red-700":"text-green-700"),children:p}),!p.includes("Error")&&(0,t.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"These settings will now be displayed to customers during checkout."})]})]})})}),a?(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,t.jsx)("span",{className:"ml-3",children:"Loading payment settings..."})]})})}):(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Zp,{children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-5 w-5 text-blue-600"}),"PayPal Settings"]})}),(0,t.jsx)(r.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"PayPal Email Address"}),(0,t.jsx)("input",{type:"email",value:y.paypal_email,onChange:e=>N("paypal_email",e.target.value),placeholder:"payments@yourcompany.com",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"This email will be displayed to customers for PayPal payments"})]})})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-5 w-5 text-green-600"}),"Bank Transfer Settings"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Bank Name"}),(0,t.jsx)("input",{type:"text",value:y.bank_name,onChange:e=>N("bank_name",e.target.value),placeholder:"Barclays Bank UK",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Account Holder Name"}),(0,t.jsx)("input",{type:"text",value:y.account_holder_name,onChange:e=>N("account_holder_name",e.target.value),placeholder:"RPM Genuine Auto Parts Ltd",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Account Number"}),(0,t.jsx)("input",{type:"text",value:y.account_number,onChange:e=>N("account_number",e.target.value),placeholder:"12345678",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Sort Code"}),(0,t.jsx)("input",{type:"text",value:y.sort_code,onChange:e=>N("sort_code",e.target.value),placeholder:"20-00-00",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"SWIFT Code (Optional)"}),(0,t.jsx)("input",{type:"text",value:y.swift_code,onChange:e=>N("swift_code",e.target.value),placeholder:"BARCGB22",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Bank Address (Optional)"}),(0,t.jsx)("textarea",{value:y.bank_address,onChange:e=>N("bank_address",e.target.value),placeholder:"1 Churchill Place, London E14 5HP, UK",rows:3,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]})]}),(0,t.jsxs)(r.Zp,{className:"lg:col-span-2",children:[(0,t.jsx)(r.aR,{children:(0,t.jsx)(r.ZB,{children:"Payment Instructions"})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Instructions for Customers"}),(0,t.jsx)("textarea",{value:y.payment_instructions,onChange:e=>N("payment_instructions",e.target.value),placeholder:"Please include your order number as payment reference. For bank transfers, allow 1-2 business days for processing.",rows:4,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"These instructions will be shown to customers during checkout and on invoices"})]})})]}),(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:"Save Payment Settings"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Update payment methods and instructions for customers"})]}),(0,t.jsxs)(l.$,{onClick:k,disabled:g,className:"flex items-center gap-2",children:[(0,t.jsx)(u,{className:"h-4 w-4"}),g?"Saving...":"Save Settings"]})]})})})})]})]})}},6132:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7894:(e,s,a)=>{Promise.resolve().then(a.bind(a,5405))}},e=>{e.O(0,[494,619,319,441,255,358],()=>e(e.s=7894)),_N_E=e.O()}]);