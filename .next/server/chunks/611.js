exports.id=611,exports.ids=[611],exports.modules={5425:(a,b,c)=>{"use strict";c.d(b,{Navigation:()=>D});var d=c(21124),e=c(38301),f=c(3991),g=c.n(f),h=c(42378),i=c(19217),j=c(30087),k=c(7922),l=c(68324),m=c(23673),n=c(58368),o=c(10578),p=c(47089),q=c(6130),r=c(56351),s=c(12922),t=c(10643),u=c(23928),v=c(14674),w=c(51881),x=c(8849),y=c(40284),z=c(75535),A=c(45119);function B({isOpen:a,onClose:b}){let{items:c,removeFromCart:e,clearCart:f,updateQuantity:g}=(0,r.x)(),j=(0,h.useRouter)(),k=c.reduce((a,b)=>a+b.price*b.quantity,0),l=c.reduce((a,b)=>a+b.quantity,0);return a?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:b}),(0,d.jsxs)("div",{className:"fixed right-0 top-0 w-96 h-full bg-white shadow-2xl z-50 flex flex-col",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(v.A,{className:"w-5 h-5"}),(0,d.jsxs)("h3",{className:"text-lg font-semibold",children:["Shopping Cart (",l,")"]})]}),(0,d.jsx)(i.$,{variant:"ghost",size:"sm",onClick:b,className:"p-1",children:(0,d.jsx)(p.A,{className:"w-5 h-5"})})]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===c.length?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[(0,d.jsx)(n.A,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,d.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your cart is empty"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Start shopping to add items to your cart"}),(0,d.jsx)(i.$,{onClick:()=>{b(),j.push("/products")},children:"Continue Shopping"})]}):(0,d.jsx)("div",{className:"p-4 space-y-4",children:c.map(a=>(0,d.jsx)(A.Zp,{className:"overflow-hidden",children:(0,d.jsx)(A.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(v.A,{className:"w-6 h-6 text-gray-400"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:a.name}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,u.v)(a.price)," each"]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center border rounded-lg",children:[(0,d.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>g(a.id,Math.max(1,a.quantity-1)),className:"h-8 w-8 p-0",children:(0,d.jsx)(w.A,{className:"w-3 h-3"})}),(0,d.jsx)("span",{className:"px-3 py-1 text-sm font-medium",children:a.quantity}),(0,d.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>g(a.id,a.quantity+1),className:"h-8 w-8 p-0",children:(0,d.jsx)(x.A,{className:"w-3 h-3"})})]}),(0,d.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>e(a.id),className:"text-red-500 hover:text-red-700 h-8 w-8 p-0",children:(0,d.jsx)(y.A,{className:"w-4 h-4"})})]})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:(0,u.v)(a.price*a.quantity)})})]})})},a.id))})}),c.length>0&&(0,d.jsxs)("div",{className:"border-t p-4 space-y-4 bg-gray-50",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center text-lg font-semibold",children:[(0,d.jsx)("span",{children:"Subtotal:"}),(0,d.jsx)("span",{children:(0,u.v)(k)})]}),k<50&&(0,d.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 p-2 rounded",children:["Add ",(0,u.v)(50-k)," more for free shipping!"]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(i.$,{onClick:()=>{b(),j.push("/checkout")},className:"w-full flex items-center justify-center gap-2",size:"lg",children:["Checkout",(0,d.jsx)(z.A,{className:"w-4 h-4"})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(i.$,{variant:"outline",onClick:()=>{b(),j.push("/cart")},className:"flex-1",children:"View Cart"}),(0,d.jsx)(i.$,{variant:"outline",onClick:f,className:"flex-1",children:"Clear All"})]})]})]})]})]}):null}function C({isOpen:a,onClose:b}){let[c,f]=(0,e.useState)([]),[g,h]=(0,e.useState)(!1),[j,k]=(0,e.useState)(null),{addToCart:l}=(0,r.x)();async function o(a){if(j)try{let{error:b}=await t.N.from("wishlist").delete().eq("id",a).eq("user_id",j.id);if(b)throw b;f(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Error removing from wishlist:",a)}}function q(a){l({id:String(a.id),name:a.name,price:a.price,image_url:a.image_url,quantity:1})}return a?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:b}),(0,d.jsxs)("div",{className:"fixed right-0 top-0 w-96 h-full bg-white shadow-2xl z-50 flex flex-col",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(m.A,{className:"w-5 h-5 text-red-500"}),(0,d.jsxs)("h3",{className:"text-lg font-semibold",children:["Wishlist (",c.length,")"]})]}),(0,d.jsx)(i.$,{variant:"ghost",size:"sm",onClick:b,className:"p-1",children:(0,d.jsx)(p.A,{className:"w-5 h-5"})})]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto",children:j?g?(0,d.jsx)("div",{className:"p-4 space-y-4",children:[1,2,3].map(a=>(0,d.jsx)("div",{className:"animate-pulse",children:(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-300 rounded-lg"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-300 rounded mb-2"}),(0,d.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"})]})]})},a))}):0===c.length?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[(0,d.jsx)(m.A,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,d.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your wishlist is empty"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Save items you love to buy them later"}),(0,d.jsx)(i.$,{onClick:()=>{b(),window.location.href="/products"},children:"Browse Products"})]}):(0,d.jsx)("div",{className:"p-4 space-y-4",children:c.map(a=>(0,d.jsx)(A.Zp,{children:(0,d.jsx)(A.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(n.A,{className:"w-6 h-6 text-gray-400"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:a.product.name}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:a.product.category}),(0,d.jsx)("p",{className:"font-semibold text-lg text-gray-900",children:(0,u.v)(a.product.price)}),(0,d.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,d.jsxs)(i.$,{size:"sm",onClick:()=>q(a.product),className:"flex-1",children:[(0,d.jsx)(n.A,{className:"w-4 h-4 mr-1"}),"Add to Cart"]}),(0,d.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>o(a.id),className:"text-red-500 hover:text-red-700",children:(0,d.jsx)(p.A,{className:"w-4 h-4"})})]})]})]})})},a.id))}):(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[(0,d.jsx)(m.A,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,d.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sign in to save favorites"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Create an account to save your favorite items"}),(0,d.jsx)(i.$,{onClick:()=>{b(),window.location.href="/login"},children:"Sign In"})]})}),j&&c.length>0&&(0,d.jsx)("div",{className:"border-t p-4 bg-gray-50",children:(0,d.jsxs)(i.$,{onClick:()=>{c.forEach(a=>q(a.product)),b()},className:"w-full",size:"lg",children:["Add All to Cart (",c.length," items)"]})})]})]}):null}function D(){let[a,b]=(0,e.useState)(!1),[c,f]=(0,e.useState)(!1),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(null),[x,y]=(0,e.useState)(null),z=(0,r.x)(a=>a.items),A=(0,h.useRouter)(),D=async()=>{await (0,s.CI)(),w(null),y(null),A.push("/")},E=z.reduce((a,b)=>a+b.quantity,0);return(0,d.jsxs)("nav",{className:"fixed top-0 w-full bg-white border-b border-gray-200 z-50",children:[(0,d.jsxs)("div",{className:"container mx-auto px-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,d.jsxs)(g(),{href:"/",className:"flex items-center gap-2 font-bold text-xl text-blue-600",children:[(0,d.jsx)(j.A,{className:"w-8 h-8"}),"RPM"]}),(0,d.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[(0,d.jsx)(g(),{href:"/",className:"hover:text-blue-600 transition-colors",children:"Home"}),(0,d.jsx)(g(),{href:"/products",className:"hover:text-blue-600 transition-colors",children:"Products"}),(0,d.jsxs)(g(),{href:"/track",className:"hover:text-blue-600 transition-colors flex items-center gap-1",children:[(0,d.jsx)(k.A,{className:"w-4 h-4"}),"Track Order"]}),v&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g(),{href:"/account",className:"hover:text-blue-600 transition-colors",children:"Account"}),x?.role==="admin"&&(0,d.jsxs)(g(),{href:"/admin",className:"hover:text-red-600 transition-colors flex items-center gap-1",children:[(0,d.jsx)(l.A,{className:"w-4 h-4"}),"Admin"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[v&&(0,d.jsx)(i.$,{variant:"ghost",size:"sm",className:"relative",onClick:()=>u(!0),children:(0,d.jsx)(m.A,{className:"w-5 h-5"})}),(0,d.jsxs)(i.$,{variant:"ghost",size:"sm",className:"relative",onClick:()=>f(!0),children:[(0,d.jsx)(n.A,{className:"w-5 h-5"}),E>0&&(0,d.jsx)("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:E})]}),(0,d.jsx)("div",{className:"hidden md:flex items-center gap-2",children:v?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(i.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,d.jsxs)(g(),{href:"/account",className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"w-4 h-4"}),v.email?.split("@")[0],x?.role==="admin"&&(0,d.jsx)(l.A,{className:"w-3 h-3 text-red-600"})]})}),(0,d.jsx)(i.$,{variant:"ghost",size:"sm",onClick:D,children:"Sign Out"})]}):(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(i.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,d.jsx)(g(),{href:"/login",children:"Sign In"})}),(0,d.jsx)(i.$,{size:"sm",asChild:!0,children:(0,d.jsx)(g(),{href:"/signup",children:"Sign Up"})})]})}),(0,d.jsx)(i.$,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>b(!a),children:a?(0,d.jsx)(p.A,{className:"w-5 h-5"}):(0,d.jsx)(q.A,{className:"w-5 h-5"})})]})]}),a&&(0,d.jsx)("div",{className:"md:hidden border-t border-gray-200 py-4",children:(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsx)(g(),{href:"/",className:"px-4 py-2 hover:bg-gray-50 rounded",onClick:()=>b(!1),children:"Home"}),(0,d.jsx)(g(),{href:"/products",className:"px-4 py-2 hover:bg-gray-50 rounded",onClick:()=>b(!1),children:"Products"}),(0,d.jsxs)(g(),{href:"/track",className:"px-4 py-2 hover:bg-gray-50 rounded flex items-center gap-2",onClick:()=>b(!1),children:[(0,d.jsx)(k.A,{className:"w-4 h-4"}),"Track Order"]}),v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(g(),{href:"/account",className:"px-4 py-2 hover:bg-gray-50 rounded flex items-center gap-2",onClick:()=>b(!1),children:["Account (",v.email?.split("@")[0],")",x?.role==="admin"&&(0,d.jsx)(l.A,{className:"w-4 h-4 text-red-600"})]}),x?.role==="admin"&&(0,d.jsxs)(g(),{href:"/admin",className:"px-4 py-2 hover:bg-gray-50 rounded flex items-center gap-2 text-red-600",onClick:()=>b(!1),children:[(0,d.jsx)(l.A,{className:"w-4 h-4"}),"Admin Panel"]}),(0,d.jsx)("button",{onClick:()=>{D(),b(!1)},className:"px-4 py-2 hover:bg-gray-50 rounded text-left",children:"Sign Out"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g(),{href:"/login",className:"px-4 py-2 hover:bg-gray-50 rounded",onClick:()=>b(!1),children:"Sign In"}),(0,d.jsx)(g(),{href:"/signup",className:"px-4 py-2 hover:bg-gray-50 rounded",onClick:()=>b(!1),children:"Sign Up"})]})]})})]}),(0,d.jsx)(B,{isOpen:c,onClose:()=>f(!1)}),(0,d.jsx)(C,{isOpen:t,onClose:()=>u(!1)})]})}},10643:(a,b,c)=>{"use strict";c.d(b,{N:()=>d});let d=(0,c(28913).UU)("https://mhfdvmeaipmuowjujyrc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZmR2bWVhaXBtdW93anVqeXJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2MTYyMDIsImV4cCI6MjA3NDE5MjIwMn0.3F2BM5J0di1K5Xidcgpn8tKGZT7McJ5GvUxFbNpCHGs")},12922:(a,b,c)=>{"use strict";c.d(b,{CI:()=>g,Hh:()=>e,Jv:()=>f,wz:()=>h});var d=c(10643);async function e(a,b){console.log("Starting signup for:",a);try{let{data:c,error:e}=await d.N.auth.signUp({email:a,password:b,options:{emailRedirectTo:`${window.location.origin}/login`}});if(console.log("Signup response:",{data:c,error:e}),e)return console.error("Signup error:",e),{error:e.message};return console.log("Signup successful:",c),{user:c.user,session:c.session}}catch(a){return console.error("Signup exception:",a),{error:"Unexpected error during signup"}}}async function f(a,b){let{data:c,error:e}=await d.N.auth.signInWithPassword({email:a,password:b});return e?{error:e.message}:{user:c.user,session:c.session}}async function g(){let{error:a}=await d.N.auth.signOut();return a?{error:a.message}:{success:!0}}async function h(){let{data:a,error:b}=await d.N.auth.getUser();return b?{error:b.message}:{user:a.user}}},15514:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}},15670:(a,b,c)=>{"use strict";c.d(b,{Navigation:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Navigation() from the server but Navigation is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\wisem\\OneDrive\\Desktop\\RPM\\components\\Navigation.tsx","Navigation")},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(75338);c(82704);var e=c(15670);let f={title:"RPM - Auto Parts Marketplace",description:"Find genuine auto parts and accessories for all vehicle makes and models"};function g({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsxs)("body",{className:"bg-gray-50 min-h-screen",children:[(0,d.jsx)(e.Navigation,{}),(0,d.jsx)("div",{className:"pt-16",children:a})]})})}},19217:(a,b,c)=>{"use strict";c.d(b,{$:()=>j});var d=c(21124),e=c(38301),f=c(70469),g=c(26691),h=c(15514);let i=(0,g.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"underline-offset-4 hover:underline text-blue-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},21268:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},23928:(a,b,c)=>{"use strict";function d(a,b="GBP"){return new Intl.NumberFormat("en-GB",{style:"currency",currency:b}).format(a)}c.d(b,{v:()=>d})},38994:(a,b,c)=>{Promise.resolve().then(c.bind(c,5425))},45119:(a,b,c)=>{"use strict";c.d(b,{Wu:()=>j,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(21124),e=c(38301),f=c(15514);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b})).displayName="CardDescription";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));j.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},56351:(a,b,c)=>{"use strict";c.d(b,{x:()=>d});let d=(0,c(11453).v)(a=>({items:[],addToCart:b=>a(a=>a.items.find(a=>a.id===b.id)?{items:a.items.map(a=>a.id===b.id?{...a,quantity:a.quantity+b.quantity}:a)}:{items:[...a.items,b]}),removeFromCart:b=>a(a=>({items:a.items.filter(a=>a.id!==b)})),updateQuantity:(b,c)=>a(a=>({items:a.items.map(a=>a.id===b?{...a,quantity:c}:a)})),clearCart:()=>a({items:[]})}))},57652:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},75946:(a,b,c)=>{Promise.resolve().then(c.bind(c,15670))},82704:()=>{}};